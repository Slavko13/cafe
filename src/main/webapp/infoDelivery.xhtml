<ui:composition template="/templates/main/mainTemplate.xhtml"
                xmlns="http://www.w3c.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core">

    <ui:define name="content">
        <p:dataTable class="main-container-table" value="#{deliveryBean.order.orderPoints}" style="width: 50%" var="orderPoint">

                    <f:facet name="header">
                        #{msg['delivery_order_number']} <h:outputText value="#{deliveryBean.order.orderId}"/>
                    </f:facet>

                    <p:column headerText="#{msg['menu_table_header_goods']}">
                        <c:if test="#{localeBean.locale eq 'ru'}">
                            <h:outputText value="#{orderPoint.coffeeGrade.gradeNameRu}"/>
                        </c:if>

                        <c:if test="#{localeBean.locale eq 'en'}">
                            <h:outputText value="#{orderPoint.coffeeGrade.gradeNameEng}"/>
                        </c:if>
                    </p:column>
                    <p:column headerText="#{msg['menu_table_header_cupNumber']}">
                        <h:outputText value="#{orderPoint.cupCounter}" />
                    </p:column>
                </p:dataTable>


        <p:dialog header="Header" widgetVar="dlg2" minHeight="40" width="350" showEffect="fade" modal="true" visible="true" rendered="#{deliveryBean.showDialogMessage()}">
            <p class="p-m-0"><h:outputText value="#{msg['info_delivery_modal_message']}" /></p>
        </p:dialog>


                <div style="margin-top: 30px;"  class="card" >

                    <p:panelGrid columns="2" style="width: 50%;" class="main-container-table">
                        <f:facet name="header">
                            <h3 style="margin-top:0">#{msg['info_delivery_details']}</h3>
                        </f:facet>

                        <h:outputText value="#{msg['menu_table_header_price']}"/>
                        <h:outputText value="#{deliveryBean.order.fullOrderPrice} TGR" >  </h:outputText>

                        <h:outputText value="#{msg['info_delivery_status']}"/>
                        <h:outputText value="#{msg['info_delivery_status_type_confirm']}" rendered='#{deliveryBean.order.status == "CONFIRMED"}'/>
                        <h:outputText value="#{msg['info_delivery_status_type_active']}" rendered='#{deliveryBean.order.status == "ACTIVE"}'/>
                        <h:outputText value="#{msg['info_delivery_status_type_canceled']}" rendered='#{deliveryBean.order.status == "CANCELED"}'/>

                        <h:outputText value="#{msg['info_delivery_address']}"/>
                        <h:outputText value="#{deliveryBean.order.deliveryAddress}" />

                        <h:outputText value="#{msg['info_delivery_name']}"/>
                        <h:outputText value="#{deliveryBean.order.customerName}" />

                        <h:outputText value="#{msg['info_delivery_datetime']}"/>
                        <h:outputText value="#{deliveryBean.order.orderDatetime}" />

                        <h:outputText value="#{msg['info_delivery_type_delivery']}"/>
                        <h:outputText rendered='#{deliveryBean.order.deliveryType == "DELIVERY"}' value="#{msg['info_delivery_type_delivery']}"/>
                        <h:outputText rendered='#{deliveryBean.order.deliveryType == "PICKUP"}' value="#{msg['info_delivery_type_pickup']}"/>

                    </p:panelGrid>
                </div>
                <p:commandButton value="#{msg['info_delivery_canel_button']}" styleClass="ui-button-danger delivery-grid-button" validateClient="false" action="#{deliveryBean.confirmOrder}" style="margin-top:20px" />


        <div class="b-popup" id="popup1">
            <div class="b-popup-content">
                <span>"#{msg['info_delivery_modal_message']}"</span>
                <button onclick="PopUpHide()"> Ok </button>
            </div>
        </div>


        <script src="http://code.jquery.com/jquery-2.0.2.min.js"></script>
        <script>
            $(document).ready(function(){
            });
            //Функция отображения PopUp
            function PopUpShow(){
                $("#popup1").show();
            }
            //Функция скрытия PopUp
            function PopUpHide(){
                $("#popup1").hide();
            }
        </script>

            </ui:define>
</ui:composition>
